<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Panel Admin — Grupo EMSEI</title>

  <!-- Carga LOCAL de Decap CMS -->
  <script src="/admin/decap/decap-cms.js"></script>

  <script>
    window.CMS_MANUAL_INIT = true;

    document.addEventListener("DOMContentLoaded", function() {

      if (typeof CMS === "undefined") {
        console.error("CMS no cargó correctamente (archivo local).");
        return;
      }

      CMS.init({
        backend: {
          name: "github",
          repo: "juanbucor-star/emsei-web",
          branch: "main",
          auth_type: "implicit",
          app_id: "Ov23lijkvgKWvnn5TQId"
        },

        media_folder: "images/uploads",
        public_folder: "/images/uploads",

        collections: [
          {
            name: "contenido",
            label: "Contenido del sitio",
            files: [
              {
                name: "principal",
                label: "Contenido principal",
                file: "site_data/informacion.json",
                format: "json",
                fields: [
                  {
                    label: "Branding",
                    name: "branding",
                    widget: "object",
                    fields: [
                      { label: "Texto del logo", name: "logo_text", widget: "string" },
                      { label: "Subtítulo del logo", name: "logo_subtitle", widget: "string", required: false },
                      { label: "Logo (imagen)", name: "logo_image", widget: "image", required: false },
                      { label: "Alt del logo", name: "logo_alt", widget: "string", required: false }
                    ]
                  },

                  {
                    label: "Hero",
                    name: "hero",
                    widget: "object",
                    fields: [
                      { label: "Título", name: "title", widget: "string" },
                      { label: "Descripción", name: "description", widget: "string", required: false },
                      { label: "Imagen de fondo", name: "background", widget: "image", required: false },
                      { label: "Alt", name: "alt", widget: "string", required: false }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      });
    });
  </script>
</head>

<body>
  <h2 style="padding:20px; font-family:Arial;">Cargando Panel Admin…</h2>
</body>
</html>
